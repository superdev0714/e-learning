{% load static %}
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
.mySlides {display:none;}
img.mySlides.current {
    display: block !important;
}

p.slide_counter {
    position: absolute;
    left: 25px;
    color: #fff;
    font-size: 25px;
    top: 50%;
    transform: translateY(-50%);
    padding: 0;
    font-weight: bold;
}
</style>
<div class="row">
	<div class="col-md-12 mx-auto text-center">
    <!--old view start	-->
		<div id="full_screen_img" class="ppt_info_slide">
			<!--<img src="{{ slide.image.url }}" />-->
			{% for obj in slides %}
		  		<img class="mySlides" id="{{forloop.counter}}" src="{{ obj.image.url }}" style="width:100%">
			{% endfor %}
			<div class="bottom_pagination">
				<p class="slide_counter">Slide <span id="seen_slide">{{seen_slide}}</span> / {{total_slides}}</p>

				<button id="previous_slide" class="previous-slide btn btn-lg btn-primary btn-block"><i class="fa fa-caret-left" aria-hidden="true"></i></button>
<!--				<button class="w3-button w3-black w3-display-left" onclick="plusDivs(-1)">&#10094;</button>-->
<!--		  		<button class="w3-button w3-black w3-display-right" onclick="plusDivs(1)">&#10095;</button>-->
				<button id="start-exam" class="next-slide btn btn-lg btn-primary btn-block"><i class="fa fa-caret-right" aria-hidden="true"></i></button>
				<button id="full-screen"  data-toggle="tooltip" data-placement="left" title="view full screen" class="full-screen-mode btn btn-lg btn-primary btn-block" Z><img src="https://img.icons8.com/wired/64/000000/full-screen.png"></button>
			</div>
		</div>
			<!--old view end -->
		</div>
	</div>
</div>


 {% block subfooter %}
{% endblock subfooter %}

{% block footer %}
{% endblock footer %}

<script>


function GoOutFullscreen() {
	if(document.exitFullscreen)
		document.exitFullscreen();
	else if(document.mozCancelFullScreen)
		document.mozCancelFullScreen();
	else if(document.webkitExitFullscreen)
		document.webkitExitFullscreen();
	else if(document.msExitFullscreen)
		document.msExitFullscreen();
}


function GoInFullscreen(elem) {
	  elem = elem || document.documentElement;
		if (elem.requestFullscreen) {
		  elem.requestFullscreen();
		} else if (elem.msRequestFullscreen) {
		  elem.msRequestFullscreen();
		} else if (elem.mozRequestFullScreen) {
		  elem.mozRequestFullScreen();
		} else if (elem.webkitRequestFullscreen) {
		  elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
		}

}

function GoOutFullscreen(elem)  {
		if (document.exitFullscreen) {
		  document.exitFullscreen();
		} else if (document.msExitFullscreen) {
		  document.msExitFullscreen();
		} else if (document.mozCancelFullScreen) {
		  document.mozCancelFullScreen();
		} else if (document.webkitExitFullscreen) {
		  document.webkitExitFullscreen();
		}
}

var device;

if(window.matchMedia("(max-width: 767px)").matches){
           device="mobile";
    } else{
            device="desktop";
}

$("#full-screen").click(function(){
	      check =$(".ppt_info_slide").hasClass("full_screen");
	      if(check == true){
	      	  	$(".ppt_info_slide").removeClass("full_screen");
	      	  GoOutFullscreen();
	      	   $("#full-screen").attr('data-original-title', 'View full Screen').tooltip('show');
	      }
	      else{
	      	  $(".ppt_info_slide").addClass("full_screen");
	      	  GoInFullscreen();
	      	   $("#full-screen").attr('data-original-title', 'Exit full Screen').tooltip('update');;



    		}

});

var counter=0;

document.onkeydown = checkKey;

function checkKey(e) {

    e = e || window.event;
    event.preventDefault();
    check = $("#1").hasClass("current");

    if (e.keyCode == '37' && check == false) {
       $(".previous-slide").click();
    }
    else if (e.keyCode == '39') {
       $(".next-slide").click();
    }

}
$("#"+{{seen_slide}}).addClass("current");
if({{seen_slide}} == 1){
	$(".previous-slide").css('display','none');
}

</script>

